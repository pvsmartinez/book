# AI Agent Guide & Project Context

**DO NOT EDIT THIS FILE UNLESS THE WORKFLOW CHANGES.**

## Project Overview
This workspace is for writing a small "knowledge book" about the author's perception of the world and how everything fits together. The process moves from scattered ideas to connected dots, and finally to a structured manuscript.

## Methodology: "The Gardener" (Zettelkasten-inspired)
We are using an organic, bottom-up approach. We do not force a table of contents immediately. Instead, we cultivate individual ideas ("Seeds") and let the structure emerge from their connections.

## Folder Structure & Definitions

### `00_Inbox`
*   **Purpose:** The dumping ground for raw, unprocessed ideas.
*   **Content:** Voice transcripts, quick brain dumps, messy notes.
*   **AI Role:** Help the user dump thoughts here without judgement. Later, help process these into `Seeds`.

### `01_Seeds` (The Core)
*   **Purpose:** Atomic, refined concepts. One idea per file.
*   **Content:** Markdown files named after the concept (e.g., `perception_of_time.md`).
*   **AI Role:** 
    *   Help extract core concepts from `Inbox`.
    *   Suggest links between existing Seeds.
    *   Ensure files are "atomic" (focused on one thing).

### `02_Structure`
*   **Purpose:** Emerging outlines and maps.
*   **Content:** Mind maps, MOCs (Maps of Content), tentative chapter lists.
*   **AI Role:** Analyze the `Seeds` folder to propose potential themes or chapters based on clusters of connected ideas.

### `03_Manuscript`
*   **Purpose:** The linear book content.
*   **Content:** Drafts of chapters, assembled from Seeds.
*   **AI Role:** Help weave multiple Seeds into a coherent narrative flow.

### `04_Resources`
*   **Purpose:** External input.
*   **Content:** Quotes, articles, bibliography, reference material.

### `08_Feedback`
*   **Purpose:** Reviews and critique notes.
*   **Content:** Notes taken while reading exported PDFs (e.g., "Fix typo in Ch 3", "Rewrite intro").
*   **AI Role:** Read these notes and apply the requested edits to the `Manuscript`.

### `99_Compost`
*   **Purpose:** Discarded ideas.
*   **Content:** Old drafts, ideas that didn't fit. Nothing is ever truly deleted, just composted.

## AI Workflow Instructions
When you (the AI) start a session in this workspace:
1.  **Check `00_Inbox`**: Are there unprocessed items? Ask the user if they want to refine them.
2.  **Check `01_Seeds`**: Look for connections. Suggest: "Hey, this new idea relates to [Existing Idea]."
3.  **Guiding Principle**: Don't ask for the "next chapter." Ask for the "next idea." Focus on *connecting dots* first, *planning order* second.

## Automation & Version Control
We use Git for version control. Helper scripts are located in the `scripts/` folder.

### Scripts
*   **`scripts/sync.sh "Message"`**: Adds all changes, commits with the provided message, and pushes to the remote repository.
    *   *AI Instruction:* Use this when the user asks to "save", "sync", or "update git".
*   **`scripts/appraise.sh`**: Prints a summary of the project state (file counts, git status, recent history).
    *   *AI Instruction:* Run this at the start of a session if the user asks for a status update or "where were we?".
*   **Grammarly Workflow**: For grammar checking that AI can't fully replace:
    *   **`scripts/export_for_grammarly.sh`**: Exports manuscript to Word (.docx) for Grammarly editing.
    *   **`scripts/smart_import_grammarly.sh <file.docx>`**: Converts edited Word doc back to markdown for review.
    *   *See:* `scripts/GRAMMARLY_WORKFLOW.md` for full documentation.

### Git Workflow
1.  **Initialize**: Ensure the repo is initialized (done).
2.  **Remote**: The user needs to manually add the remote origin using `git remote add origin <url>`.
3.  **Routine**: 
    *   **Batch Commits:** Do NOT run the sync script after every single change. Wait until a logical group of tasks is complete or the user asks to "save".
    *   Always write meaningful commit messages describing *what* content was added or changed.

## User Input Style & AI Role
*   **Input Format:** The user provides input primarily via voice-to-text. Expect run-on sentences, conversational fillers ("like", "um"), and unstructured thoughts.
*   **Language Context:** The user is Brazilian. English is their second language.
    *   *AI Action:* Fix non-native phrasing and grammar in the final output, but preserve the user's unique voice and "conversational" style.
*   **AI Responsibility:**
    *   **Decipher & Organize:** Your primary job is to take this raw, messy input and structure it into clear, atomic Markdown files.
    *   **Raw Transcript Logging:** Before processing any voice input, **always append the raw, unedited text** to `00_Inbox/raw_transcripts.md` with a session header (e.g., `## Session X: [Topic] (Date)`). This preserves the user's natural voice for future style analysis.
    *   **File Management:** The user will not manage filenames or locations. You must decide where files go (Inbox vs Seeds) and name them appropriately.
    *   **Style Learning:** Over time, analyze the user's *written* output (in `03_Manuscript`) to adapt your writing style to match theirs. The user writes "a bit like talking," but more polished.
    *   **Meta-Analysis:** Maintain `06_Meta/user_style_and_patterns.md`. Record recurring keywords, examples, and speech patterns to help refine the book's voice and structure.
    *   **Cross-Pollination:** When the user discusses a topic, check if it affects other existing files. Update multiple files simultaneously if needed.
    *   **Cross-Pollination:** When the user discusses a topic, check if it affects other existing files. Update multiple files simultaneously if needed.
    *   **Task Extraction:** Break down unstructured inputs into multiple distinct tasks or topics. Don't just create one file per prompt if the prompt covers multiple areas.
